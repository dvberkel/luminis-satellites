<html>
	<head>
		<title>Luminis &raquo; Satellites</title>
		<script type="text/javascript">
			var DocumentTree = (function(){
				var DocumentTree = function(name) {
					this.name = name;
					this.satellites = [];
					
					this.add = function(satellite) {
						this.satellites.push(satellite);
						return this;
					}
					
					this.accept = function(visitor) {
						visitor.visit(this.name);
						for(var index = 0; index < this.satellites.length; index++) {
							this.satellites[index].accept(visitor);
						}
					}
				};
				return DocumentTree;
			})()
			
			var tree = 	new DocumentTree("Luminis")
					.add(new DocumentTree("OSGI")
						.add(new DocumentTree("Technology"))
						.add(new DocumentTree("Academy"))
						.add(new DocumentTree("Interaction"))
					).add(new DocumentTree("Embedded Devices")
						.add(new DocumentTree("Technology"))
						.add(new DocumentTree("Academy"))
						.add(new DocumentTree("Interaction"))
					).add(new DocumentTree("Semantic Web")
						.add(new DocumentTree("Technology"))
						.add(new DocumentTree("Academy"))
						.add(new DocumentTree("Interaction"))
					);

			
			var Counter = function() {
				var count = 0;
				
				this.visit = function(name) {
					count++;
				}
				
				this.getCount = function() {
					return count;
				}
			};
			
			console.log(tree);
			
			var counter = new Counter();
			tree.accept(counter);
			console.log(counter.getCount());
		</script>
	</head>
	<body>
		<h1>Satellites</h1>
	</body>
</html>
